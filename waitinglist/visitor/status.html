<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#D97706">
    <title>Status Antrian - Restoran Bahagia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
</head>
<body class="bg-secondary">
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="restaurant-logo">🍽️</div>
            <h1 class="restaurant-name">Restoran Bahagia</h1>
        </div>

        <!-- Waiting State -->
        <div id="waitingState" class="state">
            <!-- Queue Number Display -->
            <div class="card queue-number-card">
                <p class="queue-label">Nomor Antrian Anda</p>
                <div class="queue-number-display">
                    <span id="queueNumber">#042</span>
                </div>
            </div>

            <!-- Queue Ahead -->
            <div class="card stats-card">
                <p class="stats-label">Antrian di Depan</p>
                <div class="stats-value" id="queueAhead">12</div>
                <p class="stats-unit">orang</p>
            </div>

            <!-- Estimated Wait Time -->
            <div class="card stats-card wait-time-card">
                <p class="stats-label">Estimasi Waktu Tunggu</p>
                <div class="stats-value" id="waitTime">18</div>
                <p class="stats-unit">menit</p>
            </div>

            <!-- Status Indicator -->
            <div class="status-indicator">
                <span class="status-dot status-waiting"></span>
                <span class="status-text">Status: Menunggu</span>
            </div>

            <!-- Cancel Button -->
            <button class="btn btn-outline btn-cancel" onclick="showCancelDialog()">
                Batalkan Antrian
            </button>

            <!-- Last Updated -->
            <div class="last-updated">
                Terakhir diperbarui: <span id="lastUpdated">14:35</span>
            </div>

            <!-- Connection Status -->
            <div class="connection-status">
                <span class="connection-dot connected" id="connectionDot"></span>
                <span class="connection-text" id="connectionText">Terhubung</span>
            </div>
        </div>

        <!-- Called State -->
        <div id="calledState" class="state hidden">
            <div class="called-alert">
                <div class="bell-icons">
                    <span class="bell-icon">🔔</span>
                    <span class="bell-icon">🔔</span>
                    <span class="bell-icon">🔔</span>
                </div>
                <h1 class="called-title">GILIRAN ANDA!</h1>
                <div class="queue-number-display called">
                    <span id="calledQueueNumber">#042</span>
                </div>
                <p class="called-message">
                    Silakan datang ke host/hostess
                </p>
                <button class="btn btn-success btn-acknowledge" onclick="acknowledgeCall()">
                    Saya Sudah Datang
                </button>
            </div>
        </div>
    </div>

    <!-- Cancel Confirmation Dialog -->
    <div id="cancelDialog" class="modal hidden">
        <div class="modal-overlay" onclick="closeCancelDialog()"></div>
        <div class="modal-content">
            <div class="modal-icon warning">⚠️</div>
            <h3 class="modal-title">Batalkan Antrian?</h3>
            <p class="modal-message">
                Apakah Anda yakin ingin membatalkan antrian Anda?
            </p>
            <div class="cancel-info">
                Nomor antrian: <strong id="cancelQueueNumber">#042</strong>
            </div>
            <p class="modal-warning">
                Tindakan ini tidak dapat dibatalkan.
            </p>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeCancelDialog()">Tidak</button>
                <button type="button" class="btn btn-destructive" onclick="confirmCancel()">Ya, Batalkan</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="status.js"></script>
</body>
</html>
