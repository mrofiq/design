<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Training Companion</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        },
                        neutral: {
                            50: '#fafafa',
                            100: '#f5f5f5',
                            200: '#e5e5e5',
                            300: '#d4d4d4',
                            400: '#a3a3a3',
                            500: '#737373',
                            600: '#525252',
                            700: '#404040',
                            800: '#262626',
                            900: '#171717'
                        }
                    },
                    spacing: {
                        '18': '4.5rem',
                    },
                    fontFamily: {
                        'system': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                        'mono': ['SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', 'monospace']
                    },
                    lineHeight: {
                        'tight': '1.25',
                        'snug': '1.375',
                        'normal': '1.4',
                        'relaxed': '1.5'
                    }
                }
            },
            darkMode: 'class'
        }
    </script>

    <!-- Lucide React Icons CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Component Utilities -->
    <script src="components.js"></script>

    <!-- Custom Styles -->
    <style>
        /* Base reset and system font */
        * {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* Dark mode variables */
        .dark {
            --dark-bg-primary: #0a0a0a;
            --dark-bg-secondary: #1a1a1a;
            --dark-bg-tertiary: #262626;
            --dark-text-primary: #fafafa;
            --dark-text-secondary: #d4d4d4;
            --dark-text-tertiary: #a3a3a3;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #d4d4d4;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a3a3a3;
        }

        /* Focus indicators */
        :focus-visible {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
            border-radius: 4px;
        }

        /* Animation utilities */
        .slide-in-up {
            animation: slideInUp 0.3s ease-out;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(10px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .pulse-once {
            animation: pulseOnce 0.6s ease-out;
        }

        @keyframes pulseOnce {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* Skip link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #171717;
            color: white;
            padding: 8px;
            border-radius: 4px;
            text-decoration: none;
            z-index: 9999;
        }

        .skip-link:focus {
            top: 6px;
        }
    </style>
</head>
<body class="bg-neutral-50 dark:bg-black text-neutral-700 dark:text-neutral-300 min-h-screen">
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Live Region for Announcements -->
    <div id="qa-live" aria-live="polite" aria-atomic="true" class="sr-only"></div>

    <!-- Application Container -->
    <div id="app" class="min-h-screen">
        <!-- Header -->
        <header class="h-15 bg-neutral-50 dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-700 px-4 flex items-center justify-between sticky top-0 z-50">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center">
                    <i data-lucide="graduation-cap" class="w-4 h-4 text-white"></i>
                </div>
                <div>
                    <h1 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100">React Advanced Patterns</h1>
                    <p class="text-sm text-neutral-500 dark:text-neutral-400">with Sarah Chen • Live Session</p>
                </div>
            </div>

            <div class="flex items-center gap-3">
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="w-9 h-9 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-50 dark:hover:bg-neutral-700 transition-colors" aria-label="Toggle dark mode">
                    <i data-lucide="sun" class="w-4 h-4 dark:hidden"></i>
                    <i data-lucide="moon" class="w-4 h-4 hidden dark:block"></i>
                </button>

                <!-- Help Button -->
                <button class="w-9 h-9 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-50 dark:hover:bg-neutral-700 transition-colors" aria-label="Help">
                    <i data-lucide="help-circle" class="w-4 h-4"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content" class="flex-1">
            <!-- Mode Navigation (Mobile) -->
            <nav class="lg:hidden bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-700">
                <div class="flex">
                    <button class="mode-tab flex-1 px-4 py-3 text-sm font-medium border-b-2 border-primary-500 text-primary-600 dark:text-primary-400" data-mode="pre-training" aria-pressed="true">
                        Pre-Training
                    </button>
                    <button class="mode-tab flex-1 px-4 py-3 text-sm font-medium border-b-2 border-transparent text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200" data-mode="in-training" aria-pressed="false">
                        In-Training
                    </button>
                    <button class="mode-tab flex-1 px-4 py-3 text-sm font-medium border-b-2 border-transparent text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200" data-mode="post-training" aria-pressed="false">
                        Post-Training
                    </button>
                </div>
            </nav>

            <!-- Content Area -->
            <div class="lg:grid lg:grid-cols-[280px_1fr_320px] lg:gap-6 lg:p-6 min-h-[calc(100vh-60px)]">
                <!-- Desktop Sidebar -->
                <aside class="hidden lg:block bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 overflow-y-auto">
                    <nav class="space-y-6">
                        <div>
                            <h3 class="text-xs font-semibold text-neutral-700 dark:text-neutral-300 uppercase tracking-wide mb-2">Training Modes</h3>
                            <div class="space-y-1">
                                <button class="mode-nav-item w-full text-left px-3 py-2 text-sm rounded-md bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 font-medium" data-mode="pre-training" aria-current="page">
                                    <i data-lucide="clock" class="w-4 h-4 inline mr-2"></i>
                                    Pre-Training
                                </button>
                                <button class="mode-nav-item w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800" data-mode="in-training">
                                    <i data-lucide="play-circle" class="w-4 h-4 inline mr-2"></i>
                                    In-Training
                                </button>
                                <button class="mode-nav-item w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800" data-mode="post-training">
                                    <i data-lucide="check-circle" class="w-4 h-4 inline mr-2"></i>
                                    Post-Training
                                </button>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xs font-semibold text-neutral-700 dark:text-neutral-300 uppercase tracking-wide mb-2">Quick Actions</h3>
                            <div class="space-y-1">
                                <button class="w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800">
                                    <i data-lucide="download" class="w-4 h-4 inline mr-2"></i>
                                    Download Materials
                                </button>
                                <button class="w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800">
                                    <i data-lucide="bookmark" class="w-4 h-4 inline mr-2"></i>
                                    My Notes
                                </button>
                            </div>
                        </div>
                    </nav>
                </aside>

                <!-- Main Content Area -->
                <div class="flex-1 p-4 lg:p-0">
                    <!-- Pre-Training Mode -->
                    <div id="pre-training-mode" class="training-mode">
                        <div class="max-w-2xl mx-auto space-y-6">
                            <!-- Session Info Card -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6 text-center">
                                <div class="w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <img src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2232%22%20height%3D%2232%22%20fill%3D%22white%22%20viewBox%3D%220%200%20256%20256%22%3E%3Cpath%20d%3D%22M230.92%2C212c-15.23-26.33-38.7-45.21-66.09-54.16a72%2C72%2C0%2C1%2C0-73.66%2C0C63.78%2C166.78%2C40.31%2C185.66%2C25.08%2C212a8%2C8%2C0%2C1%2C0%2C13.85%2C8c18.84-32.56%2C52.14-52%2C89.07-52s70.23%2C19.44%2C89.07%2C52a8%2C8%2C0%2C1%2C0%2C13.85-8ZM72%2C96a56%2C56%2C0%2C1%2C1%2C56%2C56A56.06%2C56.06%2C0%2C0%2C1%2C72%2C96Z%22%3E%3C/path%3E%3C/svg%3E" alt="Trainer avatar" class="w-8 h-8">
                                </div>
                                <h2 class="text-xl font-semibold text-neutral-800 dark:text-neutral-100 mb-2">Welcome to React Advanced Patterns</h2>
                                <p class="text-neutral-600 dark:text-neutral-400 mb-4">Led by Sarah Chen, Senior React Developer</p>
                                <div class="flex items-center justify-center gap-2 text-sm text-neutral-500 dark:text-neutral-400">
                                    <i data-lucide="calendar" class="w-4 h-4"></i>
                                    <span>Today, 2:00 PM - 4:00 PM EST</span>
                                </div>
                            </div>

                            <!-- Countdown Timer -->
                            <div class="bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 border border-primary-200 dark:border-primary-700 rounded-lg p-6 text-center">
                                <h3 class="text-lg font-semibold text-primary-900 dark:text-primary-100 mb-2">Session starts in</h3>
                                <div class="text-3xl font-bold text-primary-700 dark:text-primary-300 mb-2" id="countdown-display">15:32</div>
                                <p class="text-sm text-primary-600 dark:text-primary-400">minutes remaining</p>
                            </div>

                            <!-- Agenda -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6">
                                <h3 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4">Session Agenda</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center gap-3">
                                        <div class="w-6 h-6 rounded-full border-2 border-primary-500 flex items-center justify-center">
                                            <div class="w-2 h-2 rounded-full bg-primary-500"></div>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Introduction & Setup</h4>
                                            <p class="text-sm text-neutral-500 dark:text-neutral-400">2:00 - 2:15 PM</p>
                                        </div>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <div class="w-6 h-6 rounded-full border-2 border-neutral-300 dark:border-neutral-600"></div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Higher-Order Components</h4>
                                            <p class="text-sm text-neutral-500 dark:text-neutral-400">2:15 - 2:45 PM</p>
                                        </div>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <div class="w-6 h-6 rounded-full border-2 border-neutral-300 dark:border-neutral-600"></div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Render Props Pattern</h4>
                                            <p class="text-sm text-neutral-500 dark:text-neutral-400">2:45 - 3:15 PM</p>
                                        </div>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <div class="w-6 h-6 rounded-full border-2 border-neutral-300 dark:border-neutral-600"></div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Custom Hooks Deep Dive</h4>
                                            <p class="text-sm text-neutral-500 dark:text-neutral-400">3:15 - 3:45 PM</p>
                                        </div>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <div class="w-6 h-6 rounded-full border-2 border-neutral-300 dark:border-neutral-600"></div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Q&A & Wrap-up</h4>
                                            <p class="text-sm text-neutral-500 dark:text-neutral-400">3:45 - 4:00 PM</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Expectations Input -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6">
                                <h3 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4">What are your expectations?</h3>
                                <form id="expectations-form" class="space-y-4">
                                    <div>
                                        <label for="expectations" class="sr-only">Your expectations for this training</label>
                                        <textarea
                                            id="expectations"
                                            name="expectations"
                                            placeholder="Tell us what you hope to learn or achieve in this session..."
                                            class="w-full min-h-[100px] px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 placeholder-neutral-400 dark:placeholder-neutral-500 resize-y focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                                            maxlength="1000"
                                        ></textarea>
                                        <div class="flex justify-between items-center mt-2">
                                            <p class="text-xs text-neutral-500 dark:text-neutral-400">This helps us tailor the session to your needs</p>
                                            <span id="char-count" class="text-xs text-neutral-500 dark:text-neutral-400">0/1000</span>
                                        </div>
                                    </div>

                                    <button
                                        type="submit"
                                        class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2.5 px-4 rounded-md transition-colors focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"
                                    >
                                        Submit Expectations
                                    </button>
                                </form>
                            </div>

                            <!-- Resources -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6">
                                <h3 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4">Pre-Training Resources</h3>
                                <div class="space-y-3">
                                    <a href="#" class="flex items-center justify-between p-3 border border-neutral-200 dark:border-neutral-600 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors group">
                                        <div class="flex items-center gap-3">
                                            <i data-lucide="file-text" class="w-5 h-5 text-neutral-500 dark:text-neutral-400"></i>
                                            <div>
                                                <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Setup Guide</h4>
                                                <p class="text-sm text-neutral-500 dark:text-neutral-400">Prerequisites and environment setup</p>
                                            </div>
                                        </div>
                                        <i data-lucide="download" class="w-4 h-4 text-neutral-400 group-hover:text-primary-500 transition-colors"></i>
                                    </a>

                                    <a href="#" class="flex items-center justify-between p-3 border border-neutral-200 dark:border-neutral-600 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors group">
                                        <div class="flex items-center gap-3">
                                            <i data-lucide="github" class="w-5 h-5 text-neutral-500 dark:text-neutral-400"></i>
                                            <div>
                                                <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Starter Repository</h4>
                                                <p class="text-sm text-neutral-500 dark:text-neutral-400">Code examples and exercises</p>
                                            </div>
                                        </div>
                                        <i data-lucide="external-link" class="w-4 h-4 text-neutral-400 group-hover:text-primary-500 transition-colors"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- In-Training Mode (Initially Hidden) -->
                    <div id="in-training-mode" class="training-mode hidden">
                        <div class="space-y-4">
                            <!-- Slide Viewer -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden">
                                <div class="aspect-video bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center relative">
                                    <!-- Mock slide content -->
                                    <div class="w-full h-full p-8 flex flex-col justify-center">
                                        <div class="bg-white dark:bg-neutral-900 rounded-lg p-6 shadow-lg max-w-lg mx-auto">
                                            <h2 class="text-xl font-bold text-neutral-800 dark:text-neutral-100 mb-4">Higher-Order Components</h2>
                                            <div class="space-y-3 text-sm text-neutral-600 dark:text-neutral-400">
                                                <p>• A function that takes a component and returns a new component</p>
                                                <p>• Enables code reuse and logic sharing</p>
                                                <p>• Common pattern for cross-cutting concerns</p>
                                            </div>
                                            <div class="mt-4 bg-neutral-100 dark:bg-neutral-800 p-3 rounded font-mono text-xs">
                                                <code>const withAuth = (WrappedComponent) => {...}</code>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Slide Progress -->
                                    <div class="absolute top-4 right-4 bg-black bg-opacity-80 text-white text-xs px-3 py-1 rounded-full">
                                        3 / 12
                                    </div>

                                    <!-- Slide Controls -->
                                    <div class="absolute bottom-4 right-4 flex gap-2">
                                        <button class="w-11 h-11 bg-black bg-opacity-80 text-white rounded-md flex items-center justify-center hover:bg-opacity-90 transition-colors focus:ring-2 focus:ring-white focus:ring-opacity-50" aria-label="Previous slide">
                                            <i data-lucide="chevron-left" class="w-5 h-5"></i>
                                        </button>
                                        <button class="w-11 h-11 bg-black bg-opacity-80 text-white rounded-md flex items-center justify-center hover:bg-opacity-90 transition-colors focus:ring-2 focus:ring-white focus:ring-opacity-50" aria-label="Next slide">
                                            <i data-lucide="chevron-right" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Quick Feedback Bar -->
                                <div class="p-4 border-t border-neutral-200 dark:border-neutral-700">
                                    <div class="flex gap-2">
                                        <button class="feedback-button flex-1 h-11 flex items-center justify-center border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 hover:scale-105 hover:shadow-md transition-all focus:ring-2 focus:ring-primary-500" aria-label="Like this content" data-feedback="like">
                                            <span class="text-lg">👍</span>
                                        </button>
                                        <button class="feedback-button flex-1 h-11 flex items-center justify-center border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 hover:scale-105 hover:shadow-md transition-all focus:ring-2 focus:ring-primary-500" aria-label="Dislike this content" data-feedback="dislike">
                                            <span class="text-lg">👎</span>
                                        </button>
                                        <button class="feedback-button flex-1 h-11 flex items-center justify-center border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 hover:scale-105 hover:shadow-md transition-all focus:ring-2 focus:ring-primary-500" aria-label="This is awesome" data-feedback="rocket">
                                            <span class="text-lg">🚀</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Code/Assets Panel -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg">
                                <div class="p-4 border-b border-neutral-200 dark:border-neutral-700">
                                    <h3 class="font-semibold text-neutral-800 dark:text-neutral-100 flex items-center gap-2">
                                        <i data-lucide="code" class="w-4 h-4"></i>
                                        Code Example
                                    </h3>
                                </div>
                                <div class="p-4">
                                    <div class="bg-neutral-900 dark:bg-neutral-950 rounded-lg p-4 relative">
                                        <button class="absolute top-3 right-3 bg-neutral-700 hover:bg-neutral-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1 transition-colors" onclick="copyToClipboard(this.parentElement.querySelector('code').textContent)">
                                            <i data-lucide="copy" class="w-3 h-3"></i>
                                            Copy
                                        </button>
                                        <code class="text-sm text-green-400 font-mono block whitespace-pre-wrap">
import React from 'react';

const withAuth = (WrappedComponent) => {
  return function AuthComponent(props) {
    const [isAuthenticated, setIsAuthenticated] = useState(false);

    useEffect(() => {
      // Check authentication status
      checkAuth().then(setIsAuthenticated);
    }, []);

    if (!isAuthenticated) {
      return <div>Please log in</div>;
    }

    return <WrappedComponent {...props} />;
  };
};

// Usage
const ProtectedDashboard = withAuth(Dashboard);</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Post-Training Mode (Initially Hidden) -->
                    <div id="post-training-mode" class="training-mode hidden">
                        <div class="max-w-2xl mx-auto space-y-6">
                            <!-- Completion Banner -->
                            <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-6 text-center">
                                <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i data-lucide="check" class="w-8 h-8"></i>
                                </div>
                                <h2 class="text-xl font-semibold mb-2">Congratulations!</h2>
                                <p class="text-green-100">You've successfully completed React Advanced Patterns</p>
                            </div>

                            <!-- Certificate Section -->
                            <div class="bg-gradient-to-br from-primary-50 to-white dark:from-primary-900/20 dark:to-neutral-900 border-2 border-primary-200 dark:border-primary-700 rounded-xl p-6 text-center">
                                <div class="w-16 h-16 bg-primary-500 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i data-lucide="award" class="w-8 h-8 text-white"></i>
                                </div>
                                <h3 class="text-xl font-semibold text-neutral-800 dark:text-neutral-100 mb-2">Your Certificate</h3>
                                <p class="text-neutral-600 dark:text-neutral-400 mb-6">Certificate of completion for React Advanced Patterns</p>

                                <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                    <button class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2.5 px-4 rounded-md transition-colors inline-flex items-center gap-2">
                                        <i data-lucide="download" class="w-4 h-4"></i>
                                        Download PDF
                                    </button>
                                    <button class="border border-primary-500 text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 font-medium py-2.5 px-4 rounded-md transition-colors inline-flex items-center gap-2">
                                        <i data-lucide="share" class="w-4 h-4"></i>
                                        Share
                                    </button>
                                </div>
                            </div>

                            <!-- Feedback Survey -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6">
                                <h3 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4">Session Feedback</h3>

                                <form id="feedback-form" class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2">
                                            How would you rate this session?
                                        </label>
                                        <div class="flex gap-2">
                                            <button type="button" class="star-rating w-8 h-8 text-neutral-300 hover:text-yellow-400 transition-colors" data-rating="1" aria-label="1 star">
                                                <i data-lucide="star" class="w-6 h-6"></i>
                                            </button>
                                            <button type="button" class="star-rating w-8 h-8 text-neutral-300 hover:text-yellow-400 transition-colors" data-rating="2" aria-label="2 stars">
                                                <i data-lucide="star" class="w-6 h-6"></i>
                                            </button>
                                            <button type="button" class="star-rating w-8 h-8 text-neutral-300 hover:text-yellow-400 transition-colors" data-rating="3" aria-label="3 stars">
                                                <i data-lucide="star" class="w-6 h-6"></i>
                                            </button>
                                            <button type="button" class="star-rating w-8 h-8 text-neutral-300 hover:text-yellow-400 transition-colors" data-rating="4" aria-label="4 stars">
                                                <i data-lucide="star" class="w-6 h-6"></i>
                                            </button>
                                            <button type="button" class="star-rating w-8 h-8 text-neutral-300 hover:text-yellow-400 transition-colors" data-rating="5" aria-label="5 stars">
                                                <i data-lucide="star" class="w-6 h-6"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <div>
                                        <label for="feedback-comments" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2">
                                            Additional comments (optional)
                                        </label>
                                        <textarea
                                            id="feedback-comments"
                                            name="comments"
                                            placeholder="What did you like most? Any suggestions for improvement?"
                                            class="w-full min-h-[80px] px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 placeholder-neutral-400 dark:placeholder-neutral-500 resize-y focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                                        ></textarea>
                                    </div>

                                    <button
                                        type="submit"
                                        class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2.5 px-4 rounded-md transition-colors"
                                    >
                                        Submit Feedback
                                    </button>
                                </form>
                            </div>

                            <!-- Next Steps -->
                            <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6">
                                <h3 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4">What's Next?</h3>
                                <div class="space-y-3">
                                    <a href="#" class="block p-3 border border-neutral-200 dark:border-neutral-600 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors">
                                        <h4 class="font-medium text-neutral-800 dark:text-neutral-100">Advanced React Performance</h4>
                                        <p class="text-sm text-neutral-500 dark:text-neutral-400">Next session: Wednesday, 2:00 PM EST</p>
                                    </a>

                                    <a href="#" class="block p-3 border border-neutral-200 dark:border-neutral-600 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors">
                                        <h4 class="font-medium text-neutral-800 dark:text-neutral-100">React Testing Workshop</h4>
                                        <p class="text-sm text-neutral-500 dark:text-neutral-400">Friday, 3:00 PM EST</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Desktop Right Sidebar -->
                <aside class="hidden lg:block space-y-4 overflow-y-auto max-h-[calc(100vh-120px)]">
                    <!-- Q&A System -->
                    <div id="qa-system-container"></div>

                    <!-- Notes Panel -->
                    <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg">
                        <div class="p-4 border-b border-neutral-200 dark:border-neutral-700">
                            <h3 class="font-semibold text-neutral-800 dark:text-neutral-100 flex items-center gap-2">
                                <i data-lucide="sticky-note" class="w-4 h-4"></i>
                                My Notes
                            </h3>
                        </div>
                        <div class="p-4">
                            <textarea
                                id="personal-notes"
                                placeholder="Add your personal notes here..."
                                class="w-full min-h-[120px] px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 placeholder-neutral-400 dark:placeholder-neutral-500 text-sm resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                            ></textarea>
                            <div class="flex justify-between items-center mt-2">
                                <button id="save-note-btn" class="text-xs bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded transition-colors">
                                    Save Note
                                </button>
                                <span class="text-xs text-neutral-500 dark:text-neutral-400">Auto-saved</span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions Panel -->
                    <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg">
                        <div class="p-4 border-b border-neutral-200 dark:border-neutral-700">
                            <h3 class="font-semibold text-neutral-800 dark:text-neutral-100 flex items-center gap-2">
                                <i data-lucide="zap" class="w-4 h-4"></i>
                                Quick Actions
                            </h3>
                        </div>
                        <div class="p-3 space-y-2">
                            <button class="w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors flex items-center gap-2">
                                <i data-lucide="bookmark" class="w-4 h-4"></i>
                                Bookmark Current Slide
                            </button>
                            <button class="w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors flex items-center gap-2">
                                <i data-lucide="download" class="w-4 h-4"></i>
                                Download Materials
                            </button>
                            <button class="w-full text-left px-3 py-2 text-sm rounded-md text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors flex items-center gap-2">
                                <i data-lucide="share-2" class="w-4 h-4"></i>
                                Share Session
                            </button>
                        </div>
                    </div>
                </aside>
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Dark mode toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;

        // Check for saved theme or default to light
        const savedTheme = localStorage.getItem('theme') || 'light';
        html.classList.toggle('dark', savedTheme === 'dark');

        themeToggle.addEventListener('click', () => {
            const isDark = html.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // Mode switching functionality
        const modeButtons = document.querySelectorAll('.mode-tab, .mode-nav-item');
        const modeContents = document.querySelectorAll('.training-mode');

        function switchMode(targetMode) {
            // Update mode content visibility
            modeContents.forEach(content => {
                content.classList.toggle('hidden', content.id !== `${targetMode}-mode`);
            });

            // Update button states
            modeButtons.forEach(button => {
                const isActive = button.dataset.mode === targetMode;

                if (button.classList.contains('mode-tab')) {
                    // Mobile tabs
                    button.classList.toggle('border-primary-500', isActive);
                    button.classList.toggle('text-primary-600', isActive);
                    button.classList.toggle('dark:text-primary-400', isActive);
                    button.classList.toggle('border-transparent', !isActive);
                    button.classList.toggle('text-neutral-500', !isActive);
                    button.classList.toggle('dark:text-neutral-400', !isActive);
                    button.setAttribute('aria-pressed', isActive);
                } else {
                    // Desktop nav items
                    button.classList.toggle('bg-primary-50', isActive);
                    button.classList.toggle('dark:bg-primary-900/20', isActive);
                    button.classList.toggle('text-primary-700', isActive);
                    button.classList.toggle('dark:text-primary-300', isActive);
                    button.classList.toggle('font-medium', isActive);
                    button.classList.toggle('text-neutral-600', !isActive);
                    button.classList.toggle('dark:text-neutral-400', !isActive);
                    button.setAttribute('aria-current', isActive ? 'page' : null);
                }
            });
        }

        modeButtons.forEach(button => {
            button.addEventListener('click', () => {
                switchMode(button.dataset.mode);
            });
        });

        // Countdown timer
        function startCountdown() {
            let timeLeft = 15 * 60 + 32; // 15:32 in seconds
            const countdownDisplay = document.getElementById('countdown-display');

            const timer = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                countdownDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    countdownDisplay.textContent = '00:00';
                    // Auto-switch to in-training mode
                    switchMode('in-training');
                }

                timeLeft--;
            }, 1000);
        }

        // Character counter for expectations textarea
        const expectationsTextarea = document.getElementById('expectations');
        const charCount = document.getElementById('char-count');

        if (expectationsTextarea && charCount) {
            expectationsTextarea.addEventListener('input', (e) => {
                const count = e.target.value.length;
                charCount.textContent = `${count}/1000`;
                charCount.classList.toggle('text-red-500', count > 950);
            });
        }

        // Expectations form submission
        const expectationsForm = document.getElementById('expectations-form');
        if (expectationsForm) {
            expectationsForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const formData = new FormData(expectationsForm);
                const expectations = formData.get('expectations').trim();

                if (expectations) {
                    // Show success message
                    const submitButton = expectationsForm.querySelector('button[type="submit"]');
                    const originalText = submitButton.textContent;
                    submitButton.textContent = 'Submitted!';
                    submitButton.classList.add('bg-green-500', 'hover:bg-green-600');
                    submitButton.disabled = true;

                    // Announce to screen readers
                    const liveRegion = document.getElementById('qa-live');
                    liveRegion.textContent = 'Your expectations have been submitted successfully.';

                    setTimeout(() => {
                        liveRegion.textContent = '';
                    }, 3000);
                }
            });
        }

        // Feedback reactions
        const feedbackButtons = document.querySelectorAll('.feedback-button');
        feedbackButtons.forEach(button => {
            button.addEventListener('click', () => {
                button.classList.add('pulse-once');
                button.style.backgroundColor = '#eff6ff';

                setTimeout(() => {
                    button.classList.remove('pulse-once');
                    button.style.backgroundColor = '';
                }, 600);
            });
        });

        // Star rating functionality
        const starButtons = document.querySelectorAll('.star-rating');
        let currentRating = 0;

        starButtons.forEach(button => {
            button.addEventListener('click', () => {
                currentRating = parseInt(button.dataset.rating);
                updateStars();
            });

            button.addEventListener('mouseenter', () => {
                const hoverRating = parseInt(button.dataset.rating);
                highlightStars(hoverRating);
            });
        });

        document.querySelector('.star-rating').closest('div').addEventListener('mouseleave', () => {
            highlightStars(currentRating);
        });

        function updateStars() {
            highlightStars(currentRating);
        }

        function highlightStars(rating) {
            starButtons.forEach((button, index) => {
                const star = button.querySelector('i');
                if (index < rating) {
                    button.classList.remove('text-neutral-300');
                    button.classList.add('text-yellow-400');
                    star.setAttribute('fill', 'currentColor');
                } else {
                    button.classList.remove('text-yellow-400');
                    button.classList.add('text-neutral-300');
                    star.removeAttribute('fill');
                }
            });
        }

        // Feedback form submission
        const feedbackForm = document.getElementById('feedback-form');
        if (feedbackForm) {
            feedbackForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const submitButton = feedbackForm.querySelector('button[type="submit"]');
                const originalText = submitButton.textContent;

                submitButton.textContent = 'Thank you!';
                submitButton.classList.add('bg-green-500', 'hover:bg-green-600');
                submitButton.disabled = true;

                // Announce to screen readers
                const liveRegion = document.getElementById('qa-live');
                liveRegion.textContent = 'Your feedback has been submitted. Thank you!';

                setTimeout(() => {
                    liveRegion.textContent = '';
                }, 3000);
            });
        }

        // Initialize Q&A System
        let qaSystem = null;
        function initializeQASystem() {
            const qaContainer = document.getElementById('qa-system-container');
            if (qaContainer && window.ComponentUtils) {
                qaSystem = new window.ComponentUtils.QASystem(qaContainer);
                // Add sample questions for demonstration
                qaSystem.addSampleQuestions();
            }
        }

        // Copy to clipboard functionality
        window.copyToClipboard = async (text) => {
            try {
                await navigator.clipboard.writeText(text);
                // Show success feedback
                const liveRegion = document.getElementById('qa-live');
                if (liveRegion) {
                    liveRegion.textContent = 'Code copied to clipboard!';
                    setTimeout(() => {
                        liveRegion.textContent = '';
                    }, 2000);
                }
            } catch (err) {
                console.error('Failed to copy text: ', err);
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
            }
        };

        // Enhanced feedback reactions with analytics
        const feedbackState = {
            like: 0,
            dislike: 0,
            rocket: 0
        };

        function updateFeedbackButton(button, type) {
            const isActive = button.classList.contains('active');

            // Remove active state from all feedback buttons
            document.querySelectorAll('.feedback-button').forEach(btn => {
                btn.classList.remove('active', 'bg-primary-50', 'border-primary-500', 'text-primary-700');
                btn.classList.remove('dark:bg-primary-900/20', 'dark:border-primary-500', 'dark:text-primary-300');
            });

            if (!isActive) {
                // Add active state to clicked button
                button.classList.add('active', 'bg-primary-50', 'border-primary-500', 'text-primary-700');
                button.classList.add('dark:bg-primary-900/20', 'dark:border-primary-500', 'dark:text-primary-300');
                button.classList.add('pulse-once');

                // Update counter
                feedbackState[type]++;

                // Announce to screen readers
                const liveRegion = document.getElementById('qa-live');
                const feedbackText = {
                    like: 'liked this content',
                    dislike: 'disliked this content',
                    rocket: 'found this awesome'
                };
                if (liveRegion) {
                    liveRegion.textContent = `You ${feedbackText[type]}.`;
                    setTimeout(() => {
                        liveRegion.textContent = '';
                    }, 2000);
                }
            }

            setTimeout(() => {
                button.classList.remove('pulse-once');
            }, 600);
        }

        // Personal notes auto-save
        let notesSaveTimeout;
        const personalNotes = document.getElementById('personal-notes');
        const saveNoteBtn = document.getElementById('save-note-btn');

        if (personalNotes) {
            personalNotes.addEventListener('input', () => {
                // Clear existing timeout
                clearTimeout(notesSaveTimeout);

                // Set new timeout for auto-save
                notesSaveTimeout = setTimeout(() => {
                    savePersonalNotes();
                }, 2000);
            });

            // Load saved notes
            const savedNotes = localStorage.getItem('training-notes');
            if (savedNotes) {
                personalNotes.value = savedNotes;
            }
        }

        if (saveNoteBtn) {
            saveNoteBtn.addEventListener('click', savePersonalNotes);
        }

        function savePersonalNotes() {
            if (personalNotes) {
                const notes = personalNotes.value;
                localStorage.setItem('training-notes', notes);

                // Visual feedback
                const indicator = saveNoteBtn.nextElementSibling;
                indicator.textContent = 'Saved!';
                indicator.classList.add('text-green-500');

                setTimeout(() => {
                    indicator.textContent = 'Auto-saved';
                    indicator.classList.remove('text-green-500');
                }, 2000);
            }
        }

        // Enhanced keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Mode switching with Alt + Number
            if (e.altKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        switchMode('pre-training');
                        break;
                    case '2':
                        e.preventDefault();
                        switchMode('in-training');
                        break;
                    case '3':
                        e.preventDefault();
                        switchMode('post-training');
                        break;
                }
            }

            // Quick actions with Ctrl/Cmd + key
            if ((e.ctrlKey || e.metaKey) && !e.shiftKey) {
                switch(e.key) {
                    case 'k': // Focus search/Q&A
                        e.preventDefault();
                        if (qaSystem && document.getElementById('qa-ask-input')) {
                            document.getElementById('qa-ask-input').focus();
                        }
                        break;
                    case 'n': // Focus notes
                        e.preventDefault();
                        if (personalNotes) {
                            personalNotes.focus();
                        }
                        break;
                    case 'd': // Toggle dark mode
                        e.preventDefault();
                        themeToggle.click();
                        break;
                }
            }
        });

        // Slide navigation
        let currentSlide = 3;
        const totalSlides = 12;

        function updateSlideContent(slideNumber) {
            currentSlide = slideNumber;

            // Update slide progress indicator
            const progressIndicator = document.querySelector('.aspect-video .absolute.top-4.right-4');
            if (progressIndicator) {
                progressIndicator.textContent = `${slideNumber} / ${totalSlides}`;
            }

            // Mock slide content updates (in real app, this would fetch from API)
            const slideData = {
                3: {
                    title: 'Higher-Order Components',
                    points: [
                        '• A function that takes a component and returns a new component',
                        '• Enables code reuse and logic sharing',
                        '• Common pattern for cross-cutting concerns'
                    ],
                    code: 'const withAuth = (WrappedComponent) => {...}'
                },
                4: {
                    title: 'HOC Implementation',
                    points: [
                        '• Check authentication status',
                        '• Handle loading states',
                        '• Forward props appropriately'
                    ],
                    code: 'return <WrappedComponent {...props} />;'
                }
            };

            const data = slideData[slideNumber] || slideData[3];
            updateSlideDisplay(data);
        }

        function updateSlideDisplay(data) {
            const slideContent = document.querySelector('.aspect-video .bg-white.dark\\:bg-neutral-900');
            if (slideContent) {
                slideContent.innerHTML = `
                    <h2 class="text-xl font-bold text-neutral-800 dark:text-neutral-100 mb-4">${data.title}</h2>
                    <div class="space-y-3 text-sm text-neutral-600 dark:text-neutral-400">
                        ${data.points.map(point => `<p>${point}</p>`).join('')}
                    </div>
                    <div class="mt-4 bg-neutral-100 dark:bg-neutral-800 p-3 rounded font-mono text-xs">
                        <code>${data.code}</code>
                    </div>
                `;
            }
        }

        // Slide navigation event listeners
        document.addEventListener('click', (e) => {
            if (e.target.closest('[aria-label="Previous slide"]')) {
                if (currentSlide > 1) {
                    updateSlideContent(currentSlide - 1);
                }
            } else if (e.target.closest('[aria-label="Next slide"]')) {
                if (currentSlide < totalSlides) {
                    updateSlideContent(currentSlide + 1);
                }
            }

            // Enhanced feedback handling
            const feedbackBtn = e.target.closest('.feedback-button');
            if (feedbackBtn) {
                const feedbackType = feedbackBtn.dataset.feedback;
                if (feedbackType) {
                    updateFeedbackButton(feedbackBtn, feedbackType);
                }
            }
        });

        // Initialize everything
        startCountdown();

        // Initialize Q&A system after a short delay to ensure components.js is loaded
        setTimeout(() => {
            initializeQASystem();
        }, 100);
    </script>
</body>
</html>