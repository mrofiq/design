<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta Tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- SEO Meta Tags -->
  <meta name="description" content="Team Lead Dashboard - Manage your team, approve reports, and track team performance.">
  <meta name="keywords" content="team lead, dashboard, team management, reports, approvals">
  <meta name="author" content="Your Company">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">

  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- CSS Files -->
  <link rel="stylesheet" href="../css/design-tokens.css">
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/layout.css">
  <link rel="stylesheet" href="../css/utilities.css">

  <!-- Component CSS -->
  <link rel="stylesheet" href="../css/components/buttons.css">
  <link rel="stylesheet" href="../css/components/cards.css">
  <link rel="stylesheet" href="../css/components/forms.css">
  <link rel="stylesheet" href="../css/components/badges.css">
  <link rel="stylesheet" href="../css/components/avatars.css">
  <link rel="stylesheet" href="../css/components/modals.css">
  <link rel="stylesheet" href="../css/components/toasts.css">
  <link rel="stylesheet" href="../css/components/navigation.css">
  <link rel="stylesheet" href="../css/components/header.css">
  <link rel="stylesheet" href="../css/components/tables.css">
  <link rel="stylesheet" href="../css/components/tabs.css">

  <!-- Page-specific CSS -->
  <link rel="stylesheet" href="../css/pages/team-lead-dashboard.css">

  <!-- Page Title -->
  <title>Team Lead Dashboard - Developer Report Dashboard</title>
</head>
<body>
  <!-- Skip to Main Content Link -->
  <a href="#main-content" class="skip-to-content">Skip to main content</a>

  <!-- App Layout Container -->
  <div class="app-layout" id="appLayout">

    <!-- Top Header -->
    <header class="app-header" role="banner">
      <div class="header-left">
        <!-- Mobile Menu Toggle -->
        <button
          class="btn-icon btn-ghost mobile-menu-toggle"
          aria-label="Toggle navigation menu"
          aria-expanded="false"
          aria-controls="appSidebar"
          id="mobileMenuToggle"
        >
          <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>

        <!-- Logo / Brand -->
        <div class="header-brand">
          <a href="/" aria-label="Developer Report Dashboard Home">
            <svg class="logo" width="32" height="32" viewBox="0 0 32 32">
              <rect width="32" height="32" rx="8" fill="currentColor"/>
            </svg>
            <span class="brand-text">DevReport</span>
          </a>
        </div>
      </div>

      <div class="header-right">
        <!-- Notification Icon -->
        <button
          class="btn-icon btn-ghost header-notification"
          aria-label="Notifications"
          id="notificationButton"
        >
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
          <span class="notification-badge" id="notificationBadge">5</span>
        </button>

        <!-- User Avatar / Dropdown -->
        <div class="dropdown user-dropdown">
          <button
            class="avatar avatar-md avatar-status is-online"
            aria-label="User menu"
            aria-haspopup="true"
            aria-expanded="false"
            id="userMenuButton"
          >
            <span>TL</span>
          </button>

          <div class="dropdown-menu" role="menu" id="headerUserMenu">
            <a href="/profile" class="dropdown-item">Profile</a>
            <a href="/settings" class="dropdown-item">Settings</a>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item" id="logoutBtn">Logout</button>
          </div>
        </div>
      </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="app-sidebar" id="appSidebar">
      <nav class="sidebar-nav">
        <ul class="nav-list">
          <li class="nav-item">
            <a href="/pages/team-lead-dashboard.html" class="nav-link is-active" data-route="team-dashboard" aria-current="page">
              <span class="nav-icon">üë•</span>
              <span class="nav-text">Team Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="/my-dashboard" class="nav-link" data-route="my-dashboard">
              <span class="nav-icon">üìä</span>
              <span class="nav-text">My Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="/reports" class="nav-link" data-route="reports">
              <span class="nav-icon">üìù</span>
              <span class="nav-text">Reports</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="/activities" class="nav-link" data-route="activities">
              <span class="nav-icon">‚ö°</span>
              <span class="nav-text">Activities</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="/leaderboard" class="nav-link" data-route="leaderboard">
              <span class="nav-icon">üèÜ</span>
              <span class="nav-text">Leaderboard</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <!-- Main Content Area -->
    <main class="app-main" id="main-content" role="main">
      <div class="dashboard-container">

        <!-- Page Header -->
        <div class="page-header">
          <div>
            <h1 class="page-title" id="pageTitle">Team Lead Dashboard</h1>
            <p class="page-subtitle" id="pageSubtitle">Manage your team and approve daily reports</p>
          </div>
          <div class="page-header-actions">
            <button class="btn btn-ghost" id="exportReportBtn">
              <span>üì•</span>
              Export Report
            </button>
            <button class="btn btn-primary" id="viewAnalyticsBtn">
              <span>üìà</span>
              Analytics
            </button>
          </div>
        </div>

        <!-- Alert Panel -->
        <section class="alert-panel" id="alertPanel" aria-label="Team alerts">
          <!-- Alerts will be dynamically inserted here -->
        </section>

        <!-- Stats Overview Section -->
        <section class="stats-section" aria-label="Team statistics overview">
          <div class="stats-grid">
            <!-- Team Members Stat -->
            <div class="stat-card">
              <div class="stat-card__icon-wrapper stat-card__icon-wrapper--primary">
                <span class="stat-card__icon">üë•</span>
              </div>
              <div class="stat-card__label">Team Members</div>
              <div class="stat-card__value" data-stat="teamMembers">8</div>
              <div class="stat-card__description">5 active today</div>
            </div>

            <!-- Pending Approvals Stat -->
            <div class="stat-card">
              <div class="stat-card__icon-wrapper stat-card__icon-wrapper--warning">
                <span class="stat-card__icon">‚è≥</span>
              </div>
              <div class="stat-card__label">Pending Approvals</div>
              <div class="stat-card__value" data-stat="pendingApprovals">3</div>
              <div class="stat-card__trend stat-card__trend--neutral">
                <span>Requires review</span>
              </div>
            </div>

            <!-- Team Points Stat -->
            <div class="stat-card">
              <div class="stat-card__icon-wrapper stat-card__icon-wrapper--success">
                <span class="stat-card__icon">‚≠ê</span>
              </div>
              <div class="stat-card__label">Team Points</div>
              <div class="stat-card__value" data-stat="teamPoints">9,850</div>
              <div class="stat-card__trend stat-card__trend--positive">
                <span class="stat-card__trend-icon">‚Üë</span>
                <span>+420 this week</span>
              </div>
            </div>

            <!-- Team Rank Stat -->
            <div class="stat-card">
              <div class="stat-card__icon-wrapper stat-card__icon-wrapper--info">
                <span class="stat-card__icon">üèÖ</span>
              </div>
              <div class="stat-card__label">Team Rank</div>
              <div class="stat-card__value" data-stat="teamRank">#2</div>
              <div class="stat-card__trend stat-card__trend--positive">
                <span class="stat-card__trend-icon">‚Üë</span>
                <span>+1 position</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Main Dashboard Grid -->
        <div class="dashboard-grid">

          <!-- Left Column -->
          <div class="dashboard-main-column">

            <!-- Pending Approvals Section -->
            <section class="dashboard-section approvals-section" aria-label="Pending report approvals">
              <div class="section-header">
                <h2 class="section-title">Pending Approvals</h2>
                <div class="section-header-actions">
                  <div class="approval-filters">
                    <button class="filter-btn is-active" data-filter="all">All (3)</button>
                    <button class="filter-btn" data-filter="today">Today</button>
                    <button class="filter-btn" data-filter="overdue">Overdue</button>
                  </div>
                  <button class="btn btn-sm btn-ghost" id="bulkApproveBtn">
                    Bulk Approve
                  </button>
                </div>
              </div>

              <!-- Approval Queue -->
              <div class="approval-queue" id="approvalQueue">
                <!-- Approval items will be inserted here dynamically -->
                <div class="approval-loading">
                  <div class="spinner"></div>
                  <p>Loading approvals...</p>
                </div>
              </div>
            </section>

            <!-- Team Performance Charts -->
            <section class="dashboard-section charts-section" aria-label="Team performance charts">
              <div class="section-header">
                <h2 class="section-title">Team Performance</h2>
                <div class="chart-tabs" role="tablist">
                  <button class="chart-tab is-active" role="tab" data-chart="points">Points</button>
                  <button class="chart-tab" role="tab" data-chart="activity">Activity</button>
                  <button class="chart-tab" role="tab" data-chart="quality">Quality</button>
                </div>
              </div>

              <div class="chart-container" id="performanceChart">
                <!-- Chart will be rendered here -->
                <canvas id="teamPerformanceCanvas"></canvas>
              </div>
            </section>

          </div>

          <!-- Right Column -->
          <aside class="dashboard-sidebar-column">

            <!-- Team Members Grid -->
            <section class="dashboard-section team-members-section" aria-label="Team members overview">
              <div class="section-header">
                <h2 class="section-title">Team Members</h2>
                <a href="/team" class="btn-link">View all</a>
              </div>

              <div class="team-members-grid" id="teamMembersGrid">
                <!-- Team member cards will be inserted here -->
              </div>
            </section>

            <!-- Quick Actions -->
            <section class="dashboard-section quick-actions-section" aria-label="Quick actions">
              <h2 class="section-title">Quick Actions</h2>
              <div class="quick-actions-list">
                <button class="quick-action-item" id="sendReminderBtn">
                  <span class="quick-action-icon">üîî</span>
                  <span class="quick-action-label">Send Reminder</span>
                </button>
                <button class="quick-action-item" id="teamMeetingBtn">
                  <span class="quick-action-icon">üìÖ</span>
                  <span class="quick-action-label">Schedule Meeting</span>
                </button>
                <button class="quick-action-item" id="recognizeTeamBtn">
                  <span class="quick-action-icon">üéâ</span>
                  <span class="quick-action-label">Recognize Team</span>
                </button>
              </div>
            </section>

            <!-- Team Recognition Wall -->
            <section class="dashboard-section recognition-wall-section" aria-label="Team recognition wall">
              <div class="section-header">
                <h2 class="section-title">Recognition Wall</h2>
              </div>
              <div class="recognition-wall" id="recognitionWall">
                <!-- Recognition items will be inserted here -->
              </div>
            </section>

          </aside>
        </div>

      </div>
    </main>

  </div>

  <!-- Review Report Modal -->
  <div class="modal" id="reviewReportModal" role="dialog" aria-labelledby="reviewReportModalTitle" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-container modal-lg">
      <div class="modal-header">
        <h2 class="modal-title" id="reviewReportModalTitle">Review Daily Report</h2>
        <button class="modal-close" aria-label="Close modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="report-review-content" id="reportReviewContent">
          <!-- Report content will be loaded here -->
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-ghost" data-modal-close>Cancel</button>
        <button type="button" class="btn btn-warning" id="requestChangesBtn">
          Request Changes
        </button>
        <button type="button" class="btn btn-error" id="rejectReportBtn">
          Reject
        </button>
        <button type="button" class="btn btn-success" id="approveReportBtn">
          Approve
        </button>
      </div>
    </div>
  </div>

  <!-- Request Changes Modal -->
  <div class="modal" id="requestChangesModal" role="dialog" aria-labelledby="requestChangesModalTitle" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-container">
      <div class="modal-header">
        <h2 class="modal-title" id="requestChangesModalTitle">Request Changes</h2>
        <button class="modal-close" aria-label="Close modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="requestChangesForm">
          <div class="form-field">
            <label for="changeReason" class="form-label">
              Reason for Changes
              <span class="form-required">*</span>
            </label>
            <textarea
              id="changeReason"
              name="changeReason"
              class="form-textarea"
              rows="4"
              placeholder="Please specify what needs to be changed..."
              required
              minlength="20"
              maxlength="500"
            ></textarea>
            <div class="form-hint">Minimum 20 characters required</div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-ghost" data-modal-close>Cancel</button>
        <button type="submit" form="requestChangesForm" class="btn btn-primary" id="submitChangesBtn">
          Submit Request
        </button>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" aria-live="polite" aria-atomic="true" id="toastContainer"></div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay" style="display: none;" aria-hidden="true">
    <div class="spinner spinner-lg"></div>
    <p class="loading-text">Loading...</p>
  </div>

  <!-- JavaScript Files -->
  <!-- Components -->
  <script src="../js/components/Toast.js"></script>
  <script src="../js/components/Modal.js"></script>
  <script src="../js/components/Card.js"></script>
  <script src="../js/components/Form.js"></script>
  <script src="../js/components/Tabs.js"></script>

  <!-- Layout -->
  <script src="../js/layout/AppShell.js"></script>

  <!-- Chart.js for visualizations -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <!-- Page-specific script -->
  <script src="../js/pages/TeamLeadDashboard.js"></script>

  <!-- Initialize App -->
  <script>
    // Initialize App Shell
    const appShell = new AppShell();

    // Initialize Team Lead Dashboard
    const teamLeadDashboard = new TeamLeadDashboard();
  </script>
</body>
</html>
