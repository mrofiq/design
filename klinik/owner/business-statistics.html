<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Statistics - Klinik Management System</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    .heatmap-container {
      background: var(--color-neutral-0);
      padding: var(--spacing-xl);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-neutral-100);
      box-shadow: var(--shadow-sm);
    }

    .heatmap-grid {
      display: grid;
      gap: 4px;
      margin: 20px 0;
    }

    .heatmap-row {
      display: grid;
      grid-template-columns: 60px repeat(12, 1fr);
      gap: 4px;
      align-items: center;
    }

    .row-label {
      font-size: 12px;
      font-weight: 600;
      color: var(--color-neutral-600);
      text-align: right;
      padding-right: 8px;
    }

    .heatmap-cell {
      aspect-ratio: 1;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 200ms ease-out;
    }

    .heatmap-cell:hover {
      transform: scale(1.1);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .intensity-none {
      background: var(--color-neutral-50);
      color: var(--color-neutral-400);
    }

    .intensity-low {
      background: #E0F7F7;
      color: var(--color-primary-700);
    }

    .intensity-medium {
      background: #80E6E6;
      color: var(--color-neutral-900);
    }

    .intensity-high {
      background: #00CED1;
      color: var(--color-neutral-0);
    }

    .intensity-very-high {
      background: #006062;
      color: var(--color-neutral-0);
    }

    .heatmap-legend {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 16px;
      font-size: 12px;
      color: var(--color-neutral-500);
    }

    .legend-gradient {
      width: 120px;
      height: 12px;
      border-radius: 6px;
      background: linear-gradient(to right, #E0F7F7, #80E6E6, #00CED1, #006062);
    }

    .forecast-card {
      background: linear-gradient(135deg, var(--color-primary-50), var(--color-secondary-100));
      padding: 28px;
      border-radius: var(--radius-lg);
      border: 2px solid var(--color-primary-200);
    }

    .forecast-range {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 16px 0;
    }

    .forecast-bar {
      flex: 1;
      height: 24px;
      border-radius: 12px;
      background: linear-gradient(to right, var(--color-success-300), var(--color-success-500), var(--color-success-300));
      position: relative;
      overflow: hidden;
    }

    .forecast-marker {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 4px;
      height: 32px;
      background: var(--color-neutral-900);
      border-radius: 2px;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Sidebar (same as other pages) -->
    <aside class="sidebar">
      <div class="sidebar-logo">
        <h2>Klinik Dashboard</h2>
      </div>

      <nav class="sidebar-nav">
        <div class="nav-section">
          <div class="nav-section-title">Main Menu</div>
          <a href="dashboard.html" class="nav-item">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
            </svg>
            <span>Dashboard</span>
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Reports</div>
          <a href="revenue-report.html" class="nav-item">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span>Revenue Report</span>
          </a>
          <a href="doctor-performance.html" class="nav-item">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
            </svg>
            <span>Doctor Performance</span>
          </a>
          <a href="business-statistics.html" class="nav-item active">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <span>Business Statistics</span>
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Management</div>
          <a href="user-management.html" class="nav-item">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
            <span>User Management</span>
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Page Header -->
      <header class="page-header">
        <div class="page-title-section">
          <h1 class="page-title">Business Statistics</h1>
          <p class="page-subtitle">Comprehensive insights and forecasts</p>
        </div>
        <div class="page-actions">
          <div class="date-range-picker" style="margin: 0;">
            <div class="picker-controls">
              <button class="preset-button active">This Month</button>
              <button class="preset-button">Last 3 Months</button>
              <button class="preset-button">This Year</button>
            </div>
          </div>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content-area">
        <!-- Key Metrics -->
        <div class="grid grid-cols-4 mb-2xl">
          <div class="stat-card">
            <div class="stat-value animate-count-up" data-value="175">0</div>
            <div class="stat-label">Total Bookings</div>
            <div class="stat-trend up">
              <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
              </svg>
              +18% vs last month
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-value animate-count-up" data-value="8.5" data-format="percent">0%</div>
            <div class="stat-label">No-Show Rate</div>
            <div class="stat-trend down">
              <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
              </svg>
              -2.3% improvement
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-value" style="font-size: 28px;">Rp 48.5K</div>
            <div class="stat-label">Avg Revenue/Booking</div>
            <div class="stat-trend up">
              <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
              </svg>
              +5%
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-value animate-count-up" data-value="72" data-format="percent">0%</div>
            <div class="stat-label">Fast-Track Conversion</div>
            <div class="stat-trend up">
              <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
              </svg>
              +3%
            </div>
          </div>
        </div>

        <!-- Booking Trends Chart -->
        <div class="chart-container mb-2xl">
          <div class="chart-header">
            <h3 class="chart-title">Booking Trends</h3>
            <div class="chart-controls">
              <button class="chart-period active">7 Days</button>
              <button class="chart-period">30 Days</button>
              <button class="chart-period">90 Days</button>
            </div>
          </div>
          <div class="chart-canvas">
            <canvas id="bookingTrendsChart"></canvas>
          </div>
          <div class="chart-legend">
            <div class="legend-item">
              <span class="legend-color" style="background: #00CED1"></span>
              <span class="legend-label">Fast-Track</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background: #A855F7"></span>
              <span class="legend-label">Regular</span>
            </div>
          </div>
        </div>

        <!-- Second Row: Donut Chart and Heatmap -->
        <div class="grid grid-cols-2 mb-2xl">
          <!-- Booking Type Distribution -->
          <div class="chart-container">
            <div class="chart-header">
              <h3 class="chart-title">Booking Type Distribution</h3>
            </div>
            <div style="height: 300px; display: flex; align-items: center; justify-content: center; position: relative;">
              <canvas id="bookingTypesChart" style="max-width: 250px; max-height: 250px;"></canvas>
              <div style="position: absolute; text-align: center;">
                <p style="font-size: 36px; font-weight: 700; color: var(--color-neutral-900);">175</p>
                <p class="caption">Total Bookings</p>
              </div>
            </div>
            <div class="chart-legend" style="margin-top: 0;">
              <div class="legend-item">
                <span class="legend-color" style="background: #00CED1; width: 16px; height: 16px; border-radius: 50%;"></span>
                <span class="legend-label">Fast-Track (72%)</span>
                <span style="font-weight: 700; margin-left: 8px;">123</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background: #A855F7; width: 16px; height: 16px; border-radius: 50%;"></span>
                <span class="legend-label">Regular (28%)</span>
                <span style="font-weight: 700; margin-left: 8px;">52</span>
              </div>
            </div>
          </div>

          <!-- Peak Hours Heatmap -->
          <div class="heatmap-container">
            <h3 class="chart-title">Peak Booking Hours</h3>
            <p class="caption" style="margin-bottom: 12px;">Busiest times of the week</p>

            <div class="heatmap-grid">
              <div class="heatmap-row">
                <span class="row-label">Mon</span>
                <div class="heatmap-cell intensity-low">2</div>
                <div class="heatmap-cell intensity-medium">8</div>
                <div class="heatmap-cell intensity-high">15</div>
                <div class="heatmap-cell intensity-very-high">18</div>
                <div class="heatmap-cell intensity-high">14</div>
                <div class="heatmap-cell intensity-medium">9</div>
                <div class="heatmap-cell intensity-low">3</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <div class="heatmap-row">
                <span class="row-label">Tue</span>
                <div class="heatmap-cell intensity-low">3</div>
                <div class="heatmap-cell intensity-medium">10</div>
                <div class="heatmap-cell intensity-high">16</div>
                <div class="heatmap-cell intensity-very-high">20</div>
                <div class="heatmap-cell intensity-high">15</div>
                <div class="heatmap-cell intensity-medium">11</div>
                <div class="heatmap-cell intensity-low">4</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <div class="heatmap-row">
                <span class="row-label">Wed</span>
                <div class="heatmap-cell intensity-low">2</div>
                <div class="heatmap-cell intensity-medium">9</div>
                <div class="heatmap-cell intensity-high">14</div>
                <div class="heatmap-cell intensity-very-high">19</div>
                <div class="heatmap-cell intensity-high">16</div>
                <div class="heatmap-cell intensity-medium">10</div>
                <div class="heatmap-cell intensity-low">5</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <div class="heatmap-row">
                <span class="row-label">Thu</span>
                <div class="heatmap-cell intensity-low">4</div>
                <div class="heatmap-cell intensity-high">12</div>
                <div class="heatmap-cell intensity-very-high">17</div>
                <div class="heatmap-cell intensity-very-high">21</div>
                <div class="heatmap-cell intensity-high">14</div>
                <div class="heatmap-cell intensity-medium">8</div>
                <div class="heatmap-cell intensity-low">3</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <div class="heatmap-row">
                <span class="row-label">Fri</span>
                <div class="heatmap-cell intensity-low">5</div>
                <div class="heatmap-cell intensity-high">13</div>
                <div class="heatmap-cell intensity-very-high">18</div>
                <div class="heatmap-cell intensity-very-high">22</div>
                <div class="heatmap-cell intensity-high">16</div>
                <div class="heatmap-cell intensity-medium">9</div>
                <div class="heatmap-cell intensity-low">4</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <div class="heatmap-row">
                <span class="row-label">Sat</span>
                <div class="heatmap-cell intensity-medium">7</div>
                <div class="heatmap-cell intensity-high">14</div>
                <div class="heatmap-cell intensity-very-high">19</div>
                <div class="heatmap-cell intensity-high">15</div>
                <div class="heatmap-cell intensity-medium">11</div>
                <div class="heatmap-cell intensity-low">6</div>
                <div class="heatmap-cell intensity-low">2</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <div class="heatmap-row">
                <span class="row-label">Sun</span>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
                <div class="heatmap-cell intensity-none">0</div>
              </div>

              <!-- Time labels -->
              <div class="heatmap-row" style="margin-top: 8px;">
                <span class="row-label"></span>
                <span class="caption" style="font-size: 10px;">08</span>
                <span class="caption" style="font-size: 10px;">09</span>
                <span class="caption" style="font-size: 10px;">10</span>
                <span class="caption" style="font-size: 10px;">11</span>
                <span class="caption" style="font-size: 10px;">12</span>
                <span class="caption" style="font-size: 10px;">13</span>
                <span class="caption" style="font-size: 10px;">14</span>
                <span class="caption" style="font-size: 10px;">15</span>
                <span class="caption" style="font-size: 10px;">16</span>
                <span class="caption" style="font-size: 10px;">17</span>
                <span class="caption" style="font-size: 10px;">18</span>
                <span class="caption" style="font-size: 10px;">19</span>
              </div>
            </div>

            <div class="heatmap-legend">
              <span>Less</span>
              <div class="legend-gradient"></div>
              <span>More</span>
            </div>
          </div>
        </div>

        <!-- Revenue Forecast -->
        <div class="forecast-card">
          <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px;">
            <div>
              <h3 class="chart-title" style="margin-bottom: 4px;">Revenue Forecast - November 2025</h3>
              <p class="caption">Predicted revenue based on last 3 months</p>
            </div>
            <div style="text-align: right;">
              <p style="font-size: 14px; font-weight: 600; color: var(--color-neutral-600); margin-bottom: 4px;">Confidence</p>
              <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 80px; height: 8px; background: var(--color-neutral-200); border-radius: 4px; overflow: hidden;">
                  <div style="width: 85%; height: 100%; background: var(--color-success-500);"></div>
                </div>
                <span style="font-size: 16px; font-weight: 700; color: var(--color-success-600);">85%</span>
              </div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 24px;">
            <div>
              <p style="font-size: 13px; font-weight: 600; color: var(--color-neutral-600); margin-bottom: 4px;">Minimum</p>
              <p style="font-size: 24px; font-weight: 700; color: var(--color-neutral-800); font-family: var(--font-mono);">Rp 8.5M</p>
            </div>
            <div>
              <p style="font-size: 13px; font-weight: 600; color: var(--color-success-700); margin-bottom: 4px;">Expected</p>
              <p style="font-size: 32px; font-weight: 700; color: var(--color-success-700); font-family: var(--font-mono);">Rp 8.95M</p>
            </div>
            <div>
              <p style="font-size: 13px; font-weight: 600; color: var(--color-neutral-600); margin-bottom: 4px;">Maximum</p>
              <p style="font-size: 24px; font-weight: 700; color: var(--color-neutral-800); font-family: var(--font-mono);">Rp 9.4M</p>
            </div>
          </div>

          <div class="forecast-range">
            <span style="font-size: 14px; font-weight: 600; color: var(--color-neutral-700);">Rp 8.5M</span>
            <div class="forecast-bar">
              <div class="forecast-marker"></div>
            </div>
            <span style="font-size: 14px; font-weight: 600; color: var(--color-neutral-700);">Rp 9.4M</span>
          </div>

          <div style="background: var(--color-warning-50); padding: 12px 16px; border-radius: 10px; border-left: 4px solid var(--color-warning-500); margin-top: 16px;">
            <p style="font-size: 12px; color: var(--color-warning-800); font-weight: 500;">
              <strong>Note:</strong> This forecast is based on historical data and current trends. Actual results may vary due to market conditions, seasonality, and promotional activities.
            </p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
