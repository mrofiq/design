/* ==========================================
   DevDaily - Animation Library
   All Micro-interactions and Animations
   ========================================== */

/* ==========================================
   1. KEYFRAME ANIMATIONS
   ========================================== */

/* Spin Animation (for loaders) */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Fade In */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Fade Out */
@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Slide In from Right */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Slide In from Left */
@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Slide In from Top */
@keyframes slideInTop {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Slide In from Bottom */
@keyframes slideInBottom {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Slide Out to Right */
@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* Scale In */
@keyframes scaleIn {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Scale Out */
@keyframes scaleOut {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0.9);
    opacity: 0;
  }
}

/* Points Pop Animation */
@keyframes pointsPop {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Trophy Bounce Animation */
@keyframes trophyBounce {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  25% {
    transform: translateY(-8px) rotate(-5deg);
  }
  50% {
    transform: translateY(0) rotate(0deg);
  }
  75% {
    transform: translateY(-4px) rotate(5deg);
  }
}

/* Arrow Bounce Animation */
@keyframes arrowBounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

/* Shake Animation (for errors) */
@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-4px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(4px);
  }
}

/* Pulse Animation */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* Pulse Border (for urgent warnings) */
@keyframes pulseBorder {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(220, 38, 38, 0);
  }
}

/* Progress Bar Fill */
@keyframes progressFill {
  from {
    width: 0%;
  }
}

/* Checkmark Draw */
@keyframes checkmarkDraw {
  0% {
    stroke-dashoffset: 50;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

/* Confetti Fall */
@keyframes confettiFall {
  0% {
    transform: translateY(-100vh) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

/* Count Up Number Animation */
@keyframes countUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Glow Animation */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(91, 91, 214, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(91, 91, 214, 0.8);
  }
}

/* ==========================================
   2. UTILITY ANIMATION CLASSES
   ========================================== */

/* Fade Animations */
.animate-fade-in {
  animation: fadeIn var(--duration-moderate) var(--ease-out);
}

.animate-fade-out {
  animation: fadeOut var(--duration-moderate) var(--ease-out);
}

/* Slide Animations */
.animate-slide-in-right {
  animation: slideInRight var(--duration-slow) var(--ease-out);
}

.animate-slide-in-left {
  animation: slideInLeft var(--duration-slow) var(--ease-out);
}

.animate-slide-in-top {
  animation: slideInTop var(--duration-slow) var(--ease-out);
}

.animate-slide-in-bottom {
  animation: slideInBottom var(--duration-slow) var(--ease-out);
}

.animate-slide-out-right {
  animation: slideOutRight var(--duration-slow) var(--ease-out);
}

/* Scale Animations */
.animate-scale-in {
  animation: scaleIn var(--duration-moderate) var(--ease-out);
}

.animate-scale-out {
  animation: scaleOut var(--duration-moderate) var(--ease-out);
}

/* Points Animation */
.animate-points-pop {
  animation: pointsPop var(--duration-moderate) var(--ease-bounce);
}

/* Shake Animation */
.animate-shake {
  animation: shake var(--duration-moderate) var(--ease-in-out);
}

/* Pulse Animation */
.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

/* Spin Animation */
.animate-spin {
  animation: spin 0.6s linear infinite;
}

/* ==========================================
   3. COMPONENT-SPECIFIC ANIMATIONS
   ========================================== */

/* Modal Animations */
.modal-backdrop {
  animation: fadeIn var(--duration-moderate) var(--ease-out);
}

.modal-backdrop.closing {
  animation: fadeOut var(--duration-moderate) var(--ease-out);
}

.modal {
  animation: scaleIn var(--duration-moderate) var(--ease-out);
}

.modal.closing {
  animation: scaleOut var(--duration-moderate) var(--ease-out);
}

/* Toast Animations */
.toast {
  animation: slideInRight var(--duration-slow) var(--ease-out);
}

.toast.removing {
  animation: slideOutRight var(--duration-moderate) var(--ease-out);
}

/* Activity Feed Item Animation */
.activity-item.new {
  animation: slideInLeft var(--duration-slow) var(--ease-out);
}

/* Stat Card Value Count-Up */
.stat-value.animating {
  animation: countUp 600ms var(--ease-out);
}

/* Stat Arrow Bounce */
.stat-arrow.bouncing {
  animation: arrowBounce 600ms var(--ease-out);
}

/* Button Loading State */
.btn.loading::after {
  animation: spin 0.6s linear infinite;
}

/* Success Checkmark Animation */
.success-checkmark {
  animation: scaleIn var(--duration-moderate) var(--ease-bounce);
}

.success-checkmark path {
  stroke-dasharray: 50;
  stroke-dashoffset: 50;
  animation: checkmarkDraw var(--duration-slow) var(--ease-out) forwards;
}

/* ==========================================
   4. HOVER EFFECTS
   ========================================== */

/* Card Hover Effect */
.card-hover-effect {
  transition: transform var(--duration-fast) var(--ease-out),
              box-shadow var(--duration-fast) var(--ease-out);
}

.card-hover-effect:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-card-hover);
}

/* Button Lift Effect */
.btn-lift-effect {
  transition: transform var(--duration-fast) var(--ease-out),
              box-shadow var(--duration-fast) var(--ease-out);
}

.btn-lift-effect:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-button-hover);
}

.btn-lift-effect:active {
  transform: translateY(0);
}

/* Icon Bounce on Hover */
.icon-bounce:hover {
  animation: arrowBounce 600ms var(--ease-out);
}

/* Trophy Bounce on Hover */
.trophy-bounce:hover {
  animation: trophyBounce 800ms var(--ease-out);
}

/* Glow Effect on Hover */
.glow-effect:hover {
  animation: glow 1.5s ease-in-out infinite;
}

/* ==========================================
   5. TRANSITION UTILITIES
   ========================================== */

.transition-all {
  transition: all var(--duration-fast) var(--ease-out);
}

.transition-colors {
  transition: background-color var(--duration-fast) var(--ease-out),
              border-color var(--duration-fast) var(--ease-out),
              color var(--duration-fast) var(--ease-out);
}

.transition-transform {
  transition: transform var(--duration-fast) var(--ease-out);
}

.transition-opacity {
  transition: opacity var(--duration-fast) var(--ease-out);
}

/* ==========================================
   6. PAGE TRANSITION ANIMATIONS
   ========================================== */

.page-enter {
  animation: fadeIn var(--duration-slow) var(--ease-out);
}

.page-exit {
  animation: fadeOut var(--duration-moderate) var(--ease-out);
}

/* ==========================================
   7. FORM VALIDATION ANIMATIONS
   ========================================== */

/* Input Error Shake */
.input.error-shake {
  animation: shake var(--duration-moderate) var(--ease-in-out);
}

/* Success Checkmark Slide In */
.form-success-icon {
  animation: slideInRight 200ms var(--ease-out);
}

/* ==========================================
   8. LOADING STATES
   ========================================== */

/* Skeleton Loading Animation */
@keyframes skeleton-loading {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    var(--neutral-100) 25%,
    var(--neutral-200) 50%,
    var(--neutral-100) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: var(--radius-md);
}

/* Shimmer Effect */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.shimmer {
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 255, 255, 0.3) 50%,
    transparent 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}

/* ==========================================
   9. NOTIFICATION BADGE ANIMATIONS
   ========================================== */

/* Badge Pulse on New Notification */
.notification-badge.new {
  animation: pointsPop var(--duration-moderate) var(--ease-bounce);
}

/* Badge Scale Pulse */
@keyframes badgePulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

.notification-badge.pulsing {
  animation: badgePulse 1s ease-in-out infinite;
}

/* ==========================================
   10. PROGRESS ANIMATIONS
   ========================================== */

/* Progress Bar Smooth Fill */
.progress-bar {
  transition: width var(--duration-slow) var(--ease-out);
}

/* Indeterminate Progress */
@keyframes indeterminate-progress {
  0% {
    left: -50%;
  }
  100% {
    left: 100%;
  }
}

.progress-indeterminate {
  position: relative;
  overflow: hidden;
}

.progress-indeterminate::after {
  content: '';
  position: absolute;
  top: 0;
  left: -50%;
  width: 50%;
  height: 100%;
  background: var(--primary-600);
  animation: indeterminate-progress 1.5s ease-in-out infinite;
}

/* ==========================================
   11. CONFETTI ANIMATION
   ========================================== */

.confetti-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000;
  overflow: hidden;
}

.confetti-piece {
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--primary-600);
  animation: confettiFall 3s ease-in-out forwards;
}

.confetti-piece:nth-child(2n) {
  background: var(--success-600);
  animation-delay: 0.1s;
}

.confetti-piece:nth-child(3n) {
  background: var(--warning-600);
  animation-delay: 0.2s;
}

.confetti-piece:nth-child(4n) {
  background: var(--chart-pink);
  animation-delay: 0.3s;
}

/* ==========================================
   12. DEADLINE WARNING ANIMATION
   ========================================== */

.deadline-warning {
  animation: pulseBorder 800ms ease-in-out infinite;
  border: 2px solid var(--error-600);
}

/* ==========================================
   13. TAB TRANSITION ANIMATIONS
   ========================================== */

.tab-content {
  animation: fadeIn var(--duration-moderate) var(--ease-out);
}

.tab-content.switching {
  animation: fadeOut var(--duration-fast) var(--ease-out);
}

/* ==========================================
   14. LEADERBOARD RANK ANIMATIONS
   ========================================== */

/* Rank Up Animation */
@keyframes rankUp {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  50% {
    transform: translateY(-5px);
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.rank-change.up {
  animation: rankUp 600ms var(--ease-bounce);
}

/* Rank Down Animation */
@keyframes rankDown {
  0% {
    transform: translateY(-20px);
    opacity: 0;
  }
  50% {
    transform: translateY(5px);
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.rank-change.down {
  animation: rankDown 600ms var(--ease-bounce);
}

/* Medal Rotation on Hover */
@keyframes medalRotate {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(360deg);
  }
}

.medal-icon:hover {
  animation: medalRotate 600ms var(--ease-out);
}

/* ==========================================
   15. AUTO-SAVE INDICATOR ANIMATION
   ========================================== */

@keyframes autosaveFade {
  0%, 100% {
    opacity: 0;
  }
  10%, 90% {
    opacity: 1;
  }
}

.autosave-indicator {
  animation: autosaveFade 2s ease-in-out;
}

/* ==========================================
   16. CHART ANIMATIONS
   ========================================== */

/* Chart Bar Growth */
@keyframes barGrow {
  from {
    transform: scaleY(0);
    transform-origin: bottom;
  }
  to {
    transform: scaleY(1);
    transform-origin: bottom;
  }
}

.chart-bar {
  animation: barGrow var(--duration-slow) var(--ease-out);
}

/* Chart Line Draw */
@keyframes lineDraw {
  from {
    stroke-dashoffset: 1000;
  }
  to {
    stroke-dashoffset: 0;
  }
}

.chart-line {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: lineDraw 1.5s var(--ease-out) forwards;
}

/* ==========================================
   17. ACCESSIBILITY - REDUCE MOTION
   ========================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .animate-pulse,
  .animate-spin,
  .pulsing,
  .skeleton {
    animation: none !important;
  }
}

/* ==========================================
   18. GPU ACCELERATION
   ========================================== */

.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform;
}

/* Apply GPU acceleration to frequently animated elements */
.btn,
.card,
.modal,
.toast,
.activity-item,
.stat-card {
  transform: translateZ(0);
  backface-visibility: hidden;
}
